<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.1//EN' 'http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd'><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><title>README.md</title></head><body><h1>MDPlay </h1><p>a Markdown-based syntax targeting web destinations such as forums or wikis, as well as HTML.&nbsp; with support for emoji, including Twemoji integration. </p><p>flags can turn features and extensions off and configure exporters, the obvious one being the &quot;strict&quot; flag.&nbsp; see flag_chart.md for a list. </p><p>code version 7.0.3 </p><p>change-log: </p><table style="border: 1px solid black; border-collapse: collapse;"><thead><tr><th style="border: 1px solid black; padding: 0.5ex;">ver</th><th style="border: 1px solid black; padding: 0.5ex;">changes</th></tr></thead><tbody><tr><td style="border: 1px solid black; padding: 0.5ex;">7.0.3</td><td style="border: 1px solid black; padding: 0.5ex;">minor fix.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">7.0.2</td><td style="border: 1px solid black; padding: 0.5ex;">HTML writing improvements (fork the writexml/toxml methods from minidom to versions that can reliably output data compatible with a plain-HTML parser).  accordingly more fully merge the NML writer code into the HTML writer code than before.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">7.0.1</td><td style="border: 1px solid black; padding: 0.5ex;">code/module/package organisation improvements.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">7.0.0</td><td style="border: 1px solid black; padding: 0.5ex;">up-to-date / more full-featured and reliable emoji support.  wound up ripping out much of the existing emoji parser code and rethinking my design decisions.  mdplay- and html- directives.  now only one HTML renderer (DOM) with its weaknesses fixed.  miscellaneous fixes.  source tree organisation improvements.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.1.7</td><td style="border: 1px solid black; padding: 0.5ex;">slight adjustment to what is considered &quot;hepburn&quot; romaji (allow &quot;hu&quot; - see code comments).  text/graphical style specifiers for emoji.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.1.6</td><td style="border: 1px solid black; padding: 0.5ex;">ditch my modified romkan in favour of my entirely new support module, which uses a rather different approach to conversion, and proves substantially faster albeit one-way.  also, switch to MPL.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.1.5</td><td style="border: 1px solid black; padding: 0.5ex;">conversion to hiragana now converts katakana where possible as well as romaji, and vice-versa.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.1.4</td><td style="border: 1px solid black; padding: 0.5ex;">kanrom fixes (still unused).</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.1.3</td><td style="border: 1px solid black; padding: 0.5ex;">a fix to (unused, still very flawed) kanrom (prioritise chi over ci), and romkan tweak to undefined sequence yi with reference to <a href="https://en.wikipedia.org/wiki/Okinawan_scripts">https://en.wikipedia.org/wiki/Okinawan_scripts</a></td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.1.2</td><td style="border: 1px solid black; padding: 0.5ex;">fix errors introduced into romkan, bring [romkan direction] into conformance with jawikipedia page on JIS X 4063:2000.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.1.1</td><td style="border: 1px solid black; padding: 0.5ex;">more romkan improvement.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.1</td><td style="border: 1px solid black; padding: 0.5ex;">add enamel output.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.0.8</td><td style="border: 1px solid black; padding: 0.5ex;">romkan improvements including precalculation (as it were).</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.0.7</td><td style="border: 1px solid black; padding: 0.5ex;">severely rework romkan backend, add an alternate Reddit-spoiler syntax.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.0.6</td><td style="border: 1px solid black; padding: 0.5ex;">some romaji-kana improvements, including a Hepburn-only option (this branches off from the romkan package).</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.0.5</td><td style="border: 1px solid black; padding: 0.5ex;">more S&ocirc;ketsu adjustments (completely disregard frequency &quot;data&quot; from v5 table)</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.0.4</td><td style="border: 1px solid black; padding: 0.5ex;">fix a late mistake in 6.0.3</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.0.3</td><td style="border: 1px solid black; padding: 0.5ex;">adjustments to S&ocirc;ketsu (Cangjie) support (the v5 DB prioritised punctuation but not Kanji, so use the v3 list for that - this naturally drops the priority of codes which changed.....), also, make the unversioned syntax accept both versions.)</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.0.2</td><td style="border: 1px solid black; padding: 0.5ex;">bugfixing, improved rubi support.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.0.1</td><td style="border: 1px solid black; padding: 0.5ex;">romkan support, potentially useful for にほんご input.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">6.0</td><td style="border: 1px solid black; padding: 0.5ex;">experimental Cangjie [S&ocirc;ketsu] input support, potentially useful for 日本語 input (sorts per priority in the source Ibus database, then per codepoint).</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.9.5</td><td style="border: 1px solid black; padding: 0.5ex;">attempt source Twemoji attribution for BBCode, and add source attribution even if starting from roundtripped Markdown.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.9.4</td><td style="border: 1px solid black; padding: 0.5ex;">Twitter consider attribution in HTML source adequate, so do this automatically.  also, add an express attribution to test.md.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.9.3</td><td style="border: 1px solid black; padding: 0.5ex;">allow fusion of emoji flag or ethnicity sequences for emoji given by shortcodes as well as those given verbatim (as usual, use the zwnj; character (ampersand-code) to prevent fusion).  misc improvements.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.9.2</td><td style="border: 1px solid black; padding: 0.5ex;">restore the Demonic Duck.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.9.1</td><td style="border: 1px solid black; padding: 0.5ex;">improved twemoji support.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.9</td><td style="border: 1px solid black; padding: 0.5ex;">muchly improved emoji support, including Twemoji.  slightly more lenient table detection.  combining the combining diacritical marks using the unicodedata module.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.8.2</td><td style="border: 1px solid black; padding: 0.5ex;">add support for the (rather limited) ATX-style designated code blocks.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.8.1</td><td style="border: 1px solid black; padding: 0.5ex;">add support for inline markup within tables.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.8</td><td style="border: 1px solid black; padding: 0.5ex;">add support for falling back to use of combining-diacritic codepoints.  round-trip table alignments properly.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.7.3:</td><td style="border: 1px solid black; padding: 0.5ex;">output tables in roundtrip in Markdown, not ReST, syntax, and treat MD tables as if they are standard MD (might add properly thought-through flags at some point) considering that Github understands Reddit-style syntax (unsure about vice-versa).</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.7.2:</td><td style="border: 1px solid black; padding: 0.5ex;">fix being less lenient than Github itself over table syntax.  also fix readme typo which brought this to light.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.7.1:</td><td style="border: 1px solid black; padding: 0.5ex;">improve handling of hypothetical non-sensible Reddit-Github fusion syntaxes.  better form the Github-targeting Readme.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.7:</td><td style="border: 1px solid black; padding: 0.5ex;">fix error in Reddit-style table parser, and extend it to handle Github-style tables.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.6:</td><td style="border: 1px solid black; padding: 0.5ex;">repair Windows support.  HTML output can now target new 910 forum.  disable broken JSON debug-output target.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.5:</td><td style="border: 1px solid black; padding: 0.5ex;">emoji, degdegs, native BBCode ols compatible with 910CMX, Reddit-style spoilers, </td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.4:</td><td style="border: 1px solid black; padding: 0.5ex;">fixed mistake causing altogether wrong behaviour of nosetexthead flag.  convert the readme and flag chart to be mdplay input themselves.  make double-spaces in input pass through to the HTML output.  fix bug splitting list items into two paragraphs between the second and third markdown line.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.3:</td><td style="border: 1px solid black; padding: 0.5ex;">fix some glitches with escaping in output by means of new &quot;agglomerate&quot; function fusing adjacent text nodes in the mdplay tree.  make IDs given to spoiler tags by renderers which have to assign their own such IDs more deterministic, so as to facilitate diffing html output before and after changes.  re-organise flags system, ironing out some faults in the process.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.2:</td><td style="border: 1px solid black; padding: 0.5ex;">fix issues with nested ol lists, including ul/ol combinations.  ordered lists are, at length, altogether supported (subject to output limitations).</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.1:</td><td style="border: 1px solid black; padding: 0.5ex;">correct TVTropes heading syntax.  further work on list processing, especially on the BBcode side, adding several flags.  other tweaks.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">5.0:</td><td style="border: 1px solid black; padding: 0.5ex;">work on lists, including rudimentary ordered list support at long length.  allow (but make disablable) un-escaping of sloppy (no  semicolon) html entities listed as accepted thusly in the Python html5 entity table.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4:13</td><td style="border: 1px solid black; padding: 0.5ex;">entity un-escape input during, not before, parsing so as to allow syntax features to be escaped using entities, as well as other tweaks.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4:12</td><td style="border: 1px solid black; padding: 0.5ex;">add TVTropes-style-syntax renderer.  fix serious entity un-escaping bug of decoding ampersand entity at the wrong time (and not predictably either).  add escaping to the MediaWiki-syntax renderer.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4:11</td><td style="border: 1px solid black; padding: 0.5ex;">fix to htmlalt and bbcode: terminate list even if last node in document or snippet.  actually use Reddit-style table alignments in HTML output.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4:10</td><td style="border: 1px solid black; padding: 0.5ex;">stop always outputting debug output to mega.txt.  process bare URLs as links (not needed by the BBCode/MediaWiki outputs but benefits the HTML output substantially).  html5 entity un-escaping in markdown sources.  stop nowikitext discarding ReST tables (derp).</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.9:</td><td style="border: 1px solid black; padding: 0.5ex;">don't utterly bork on markup within alt text.  iron out some old quirks which i put into the parser, including enabling non-designated indented code blocks by default.  add HTML5 entities from the current Python  source tree.  add support for MediaWiki-style wikilinks (not external links) in Markdown input (useful if used to write a wiki-page).  fix htmlalt newline-stripping code blocks.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.8:</td><td style="border: 1px solid black; padding: 0.5ex;">added nobackslashspace flag to markdown renderer, fixed flag support in markdown renderer.  fixed problem with UTF-8 input causing renderers to fail with a UnicodeDecodeError (by splitting into Unicode characters, not bytes, in the inline parser).  added strict mode.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.7:</td><td style="border: 1px solid black; padding: 0.5ex;">markdown renderer, enabling distillation to an extent as well as round-trip testing.  by that means, fix bug involving detection of opening fences without classes as ReST-style headings.  furthermore add support for Reddit-style tables (in input) and code spans.  also avoid extraneous whitespace in HTML where possible.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.6:</td><td style="border: 1px solid black; padding: 0.5ex;">make the undocumented TVTropes link exposure feature in the writers an optional feature enablable through a flag.  use valid HTML for nested lists in the non-DOM writer also.  make existing renderers implement the flag system properly.  allow escaping of close-brackets in link targets (including wikilinks).  fix fusing of separate lists.  STILL NO OL TAGS, and seems more trouble than worth anyway (MD list syntax seems disputed at best).</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.5:</td><td style="border: 1px solid black; padding: 0.5ex;">added experimental MediaWiki-dialect wikitext renderer.  fixed handling of two-space line breaks in list items.  use valid (rather than merely browser-condoned) HTML for nested lists (DOM-based renderer only).</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.4:</td><td style="border: 1px solid black; padding: 0.5ex;">better indented code parsing.  flag system API for writers as well as the parser.  add table handling to BBCode writer (was only present in HTML at first) - might work depending on targeted BBCode dialect.  added snippet renderer API.  fix detecting headings as tables.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.3:</td><td style="border: 1px solid black; padding: 0.5ex;">added a subset of ReST simple table support, and add a flag system for enabling non-designated indented code blocks.  ol still pending.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.2:</td><td style="border: 1px solid black; padding: 0.5ex;">added polish.  now functions as an importable Python package.  added load_renderer mechanism.  added HTML5 mode.  proper entity escaping.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.1:</td><td style="border: 1px solid black; padding: 0.5ex;">spanking new HTML export code using minidom.  no added syntax  features.  command-line interface.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">4.0:</td><td style="border: 1px solid black; padding: 0.5ex;">added HTML output support, sorted out handling of instances where braces do not contain a BibTeX diacritic.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.9:</td><td style="border: 1px solid black; padding: 0.5ex;">much better BibTeX diacritic support.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.8:</td><td style="border: 1px solid black; padding: 0.5ex;">added partial BibTeX umlaut support, including code derived from the Python Documentation LaTeX-to-ReST converter (under a &quot;BSD&quot; licence, almost certainly the same one as Sphinx itself, hence that is what i attached to the file so as to satisfy its terms).  to my own licence for the rest of the program, added a non-misrepresentation clause.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.7:</td><td style="border: 1px solid black; padding: 0.5ex;">ReST indented code block support, fixing a nasty residual bug in the process.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.6:</td><td style="border: 1px solid black; padding: 0.5ex;">fix paras disappearing etc if followed by rules without empty line.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.5:</td><td style="border: 1px solid black; padding: 0.5ex;">fix ReST heading over-lines being detected/parsed as MW headings.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.4:</td><td style="border: 1px solid black; padding: 0.5ex;">fix a nested emphasis bug that has been in here since the get-go.  also add MediaWiki emphases.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.3:</td><td style="border: 1px solid black; padding: 0.5ex;">more accurate regexps, regexps in place of convoluted testing, fix  problem of rules being swallowed (since 3.1), MediaWiki headings.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.2:</td><td style="border: 1px solid black; padding: 0.5ex;">fix the global variables problem properly this time.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.1:</td><td style="border: 1px solid black; padding: 0.5ex;">complete support for ReST headings, this has a slight risk of breaking  compatibility with a given Markdown doc, but only slight.  fix, in  theory, as stopgap, the more-than-one-doc problem.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">3.0:</td><td style="border: 1px solid black; padding: 0.5ex;">fix handling of underscore emphasis before (semi)colons, as in 2.1, and  split from a script into many modules and implement partial support for  ReST-style extended Setext headings.  note that this will not behave  correctly if used to translate more than one document.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">2.x:</td><td style="border: 1px solid black; padding: 0.5ex;">[later 2.x revisions (2.1 through 2.4) back-ported fixes from 3.x]</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">2.0:</td><td style="border: 1px solid black; padding: 0.5ex;">code spans were not correctly implemented (they were merely implemented  as monospace format spans) and i have no intent of improving upon this so i removed it.  fixed middle-of-word underscore behaviour.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">1.4:</td><td style="border: 1px solid black; padding: 0.5ex;">more conventional link escaping rules.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">1.3:</td><td style="border: 1px solid black; padding: 0.5ex;">fix compatibility with Python (2.5 &lt; version &lt; 3.0), i.e.  Python 2.6 and  2.7.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">1.2:</td><td style="border: 1px solid black; padding: 0.5ex;">fixed some crashes.  added subscript, and alternate syntaxes for bold,  italic and superscript, and spoilers.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">1.1:</td><td style="border: 1px solid black; padding: 0.5ex;">bug-fix: handle &quot;\&quot; correctly.</td></tr><tr><td style="border: 1px solid black; padding: 0.5ex;">1.0:</td><td style="border: 1px solid black; padding: 0.5ex;">first &quot;release&quot;.</td></tr></tbody></table><p>this software is, unless otherwise specified: </p><p>Copyright (c) 2015, 2016 Thomas Hori.&nbsp; All rights reserved. </p><p>This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, You can obtain one at <a href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>. </p></body></html>